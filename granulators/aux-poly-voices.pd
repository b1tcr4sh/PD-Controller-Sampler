#N canvas 150 22 1105 666 10;
#X obj 113 216 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 322 246 clear;
#X obj 19 246 r \$0-off;
#X obj 146 465 s \$0-on;
#X obj 114 243 t b b;
#X obj 98 275 float;
#X obj 98 309 + 1;
#X obj 103 408 pack 1 0 100;
#X obj 145 438 list append;
#X obj 39 584 outlet~;
#X obj 149 582 outlet~;
#X obj 119 17 inlet;
#X obj 322 188 inlet;
#X obj 321 222 t b;
#X obj 39 552 catch~ \$0-left~;
#X obj 149 554 catch~ \$0-right~;
#X text 610 213 arguments \; voice-abstraction \; number of voices
\; receive-name-stem \; list of voice-abstraction-specific arguments
;
#X text 794 88 requires "dollarg" object from iemlib;
#X text 607 395 2-audio-channels-out restriction (for mono just use
left);
#X text 603 428 voice-abstraction needs to use abstraction poly-voice-alloc
;
#X msg 166 282 1;
#N canvas 319 230 827 670 setup-voices 0;
#X obj 98 35 loadbang;
#X obj 97 102 until;
#X obj 196 156 symbol \$1;
#X obj 97 124 t b b b;
#X obj 77 334 list append;
#X obj 95 153 float;
#X obj 95 181 + 1;
#X msg 154 126 0;
#X obj 93 203 t f f;
#X obj 97 60 float \$2;
#X obj 91 289 list append;
#X obj 83 313 list append;
#X obj 95 396 s pd-\$0-voices;
#X obj 84 365 list trim;
#X msg 92 262 obj 20 \$1;
#X obj 449 154 list split 3;
#X obj 92 233 * 50;
#X text 349 328 arguments \; 1 receive-name-stem \; 2 poly-voice-name-stem
\; 3 voice-number \; 4 delay-line-name \; 5 delay-line-duration \;
6 level 7 onset 8 transp 9 dur 10 pan 11 rise 12 fall 13 fb;
#X obj 351 152 float \$0;
#X obj 267 156 symbol \$3;
#X obj 204 185 pack s s 0;
#X msg 206 208 \$1 \$2 \$3;
#X obj 97 81 t f b b b b b;
#X msg 589 162 clear;
#X obj 450 125 pdcontrol;
#X msg 441 99 args 0;
#X connect 0 0 9 0;
#X connect 1 0 3 0;
#X connect 2 0 20 0;
#X connect 3 0 5 0;
#X connect 3 1 2 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 6 0 5 1;
#X connect 6 0 8 0;
#X connect 7 0 5 1;
#X connect 8 0 16 0;
#X connect 8 1 11 1;
#X connect 9 0 22 0;
#X connect 10 0 11 0;
#X connect 11 0 4 0;
#X connect 13 0 12 0;
#X connect 14 0 10 0;
#X connect 15 1 4 1;
#X connect 16 0 14 0;
#X connect 18 0 20 2;
#X connect 19 0 20 1;
#X connect 20 0 21 0;
#X connect 21 0 10 1;
#X connect 22 0 1 0;
#X connect 22 1 7 0;
#X connect 22 2 19 0;
#X connect 22 3 18 0;
#X connect 22 4 25 0;
#X connect 22 5 23 0;
#X connect 23 0 12 0;
#X connect 24 0 15 0;
#X connect 25 0 24 0;
#X restore 531 91 pd setup-voices;
#N canvas 168 39 700 539 \$0-voices 0;
#X obj 20 50 aux-array-grain-poly test-array-grain 2294 1;
#X obj 20 100 aux-array-grain-poly test-array-grain 2294 2;
#X obj 20 150 aux-array-grain-poly test-array-grain 2294 3;
#X obj 20 200 aux-array-grain-poly test-array-grain 2294 4;
#X obj 20 250 aux-array-grain-poly test-array-grain 2294 5;
#X obj 20 300 aux-array-grain-poly test-array-grain 2294 6;
#X obj 20 350 aux-array-grain-poly test-array-grain 2294 7;
#X obj 20 400 aux-array-grain-poly test-array-grain 2294 8;
#X obj 20 450 aux-array-grain-poly test-array-grain 2294 9;
#X obj 20 500 aux-array-grain-poly test-array-grain 2294 10;
#X obj 20 550 aux-array-grain-poly test-array-grain 2294 11;
#X obj 20 600 aux-array-grain-poly test-array-grain 2294 12;
#X obj 20 650 aux-array-grain-poly test-array-grain 2294 13;
#X obj 20 700 aux-array-grain-poly test-array-grain 2294 14;
#X obj 20 750 aux-array-grain-poly test-array-grain 2294 15;
#X obj 20 800 aux-array-grain-poly test-array-grain 2294 16;
#X obj 20 850 aux-array-grain-poly test-array-grain 2294 17;
#X obj 20 900 aux-array-grain-poly test-array-grain 2294 18;
#X obj 20 950 aux-array-grain-poly test-array-grain 2294 19;
#X obj 20 1000 aux-array-grain-poly test-array-grain 2294 20;
#X obj 20 1050 aux-array-grain-poly test-array-grain 2294 21;
#X obj 20 1100 aux-array-grain-poly test-array-grain 2294 22;
#X obj 20 1150 aux-array-grain-poly test-array-grain 2294 23;
#X obj 20 1200 aux-array-grain-poly test-array-grain 2294 24;
#X obj 20 1250 aux-array-grain-poly test-array-grain 2294 25;
#X obj 20 1300 aux-array-grain-poly test-array-grain 2294 26;
#X obj 20 1350 aux-array-grain-poly test-array-grain 2294 27;
#X obj 20 1400 aux-array-grain-poly test-array-grain 2294 28;
#X obj 20 1450 aux-array-grain-poly test-array-grain 2294 29;
#X obj 20 1500 aux-array-grain-poly test-array-grain 2294 30;
#X obj 20 1550 aux-array-grain-poly test-array-grain 2294 31;
#X obj 20 1600 aux-array-grain-poly test-array-grain 2294 32;
#X restore 531 111 pd \$0-voices;
#X text 606 303 arguments for voice-abstraction should be \; receive-name-stem
\; audio-throw-catch-stem \; voice number \; voice-abstraction-specific
arguments;
#X obj 105 371 poly \$2 1;
#X obj 248 18 r \$3;
#X obj 173 18 r \$3-bang;
#X obj 114 82 t b a;
#X obj 134 310 % \$2;
#X obj 410 57 loadbang;
#X obj 409 83 del 10;
#X obj 430 110 s \$0-init-me;
#X obj 618 549 outlet;
#X text 667 549 note on/off messages \, for sending data to voices
;
#X obj 310 12 r \$3-note;
#X obj 234 58 list split 2;
#X obj 234 84 unpack;
#X obj 309 35 t l l;
#X text 309 -55 "note" message: first 2 elements of incoming list will
control voice allocation - allows for external note on-off control
\, and/or messages (route within poly patch to first element - e.g.
control synth parameters by pitch or other identifier));
#X obj 262 585 outlet~;
#X obj 390 582 outlet~;
#X obj 390 554 catch~ \$0-aux-right~;
#X obj 262 553 catch~ \$0-aux-left~;
#X connect 0 0 4 0;
#X connect 1 0 24 0;
#X connect 2 0 24 0;
#X connect 4 0 5 0;
#X connect 4 1 20 0;
#X connect 5 0 6 0;
#X connect 6 0 24 0;
#X connect 6 0 28 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 8 0 32 0;
#X connect 11 0 27 0;
#X connect 12 0 13 0;
#X connect 13 0 1 0;
#X connect 14 0 9 0;
#X connect 15 0 10 0;
#X connect 20 0 24 1;
#X connect 24 0 7 0;
#X connect 24 1 7 1;
#X connect 24 2 7 2;
#X connect 25 0 27 0;
#X connect 26 0 27 0;
#X connect 27 0 0 0;
#X connect 27 1 8 1;
#X connect 28 0 5 1;
#X connect 29 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 31 0;
#X connect 34 0 37 0;
#X connect 35 0 36 0;
#X connect 36 0 24 0;
#X connect 36 1 24 1;
#X connect 37 0 35 0;
#X connect 37 1 8 1;
#X connect 41 0 40 0;
#X connect 42 0 39 0;
